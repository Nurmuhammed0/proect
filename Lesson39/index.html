<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- <div id="div"></div> -->

  <div class="div1">TODO LIST</div>
  <input type="text" id="input" class="input">
  <button id="btn" class="btn">Sabmit</button>
  <button id="btn2" class="btn">Clear</button>
  
  <div id="div2" class="div">
  <ul id="ul"></ul>
  </div>
  <script >
    // let div = document.getElementById('div')
    let ul = document.getElementById('ul')
    // localStorage.setItem('121', '0778')
    // localStorage.setItem('ali','2323')
    // div.innerHTML=localStorage.getItem('121')
    // alert(localStorage.getItem('ali'))
    // localStorage.removeItem('121')
    // localStorage.clear()

    let input = document.getElementById('input')
    let btn = document.getElementById('btn')
    let btn2 = document.getElementById('btn2')
    let div2 =document.getElementById('div2')
    let ss = []

    // input.oninput = function(e){
    //   a=e.target.value
    //   btn.onclick = function(){
    //     localStorage.setItem(a,a)
    //     div.innerHTML=localStorage.getItem()
    //   }
    // }


    
      btn.onclick = function(){
        let a = input.value
        ss.push(a)
        input.value=''
        let ff = JSON.stringify(ss)
        localStorage.setItem('list',ff)
        asan()
      }
      btn2.onclick =()=>{
        
        localStorage.clear('list')
        asan()
      }
    
    function asan(){
        ss = localStorage.getItem('list')
       ss = ss != null ? JSON.parse(ss) : []
       div2.innerHTML = ''
      ss.map((e, i)=>{
        console.log(i)
         div2.innerHTML += `<div>${i+1}. ${e} <button onclick="close_(${i})">X</button> </div>`
       })
    }

     function close_(i){
       ss.splice(i,1)
      
        let ff = JSON.stringify(ss)
        localStorage.setItem('list',ff)

        asan()
        console.log(ss)
     }   
      asan()
    // let text = ['kairat','asan']
    // console.log(text)
    // let ss = JSON.stringify(text)
    // console.log(ss)
    // console.log(JSON.parse(ss))
  </script>
</body>
</html>